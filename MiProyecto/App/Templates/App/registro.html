{% extends 'App/base.html' %}
{% load static %}


{% block title %}
    Informaci√≥n del producto
{% endblock %}

{% block codigoDinamico %}
<header>
    <div class="navbar">
        <a href="/" class="navbar-logo">
        <span class="navbar-logo-icon">üîí</span>
        Alarmas PFB
        </a>

        <nav class="navbar-links">
        <a href="/">Inicio</a>
        <a href="{% url 'productos' %}">Productos</a>
        <a href="{% url 'contacto' %}">Contacto</a>
        <a href="{% url 'sobreNosotros' %}">Nuestra Alarma</a>
        <a href="{% url 'guia' %}">Gu√≠a</a>
        <a href="{% url 'faq' %}">Preguntas Frecuentes</a>
        </nav>

        <div class="navbar-actions">
        <button class="action-btn" onclick="window.location.href='{% url 'carrito' %}'">
            üõí
        </button>

        <button id="menuToggle" class="action-btn">‚ò∞</button>

        <div id="dropdownMenu" class="dropdown-menu">
            {% if request.user.is_authenticated %}
            <button onclick="window.location.href='{% url 'logout' %}'">Cerrar sesi√≥n</button>
            {% else %}
            <button onclick="window.location.href='{% url 'login' %}'">Inicio de sesi√≥n</button>
            <button onclick="window.location.href='{% url 'soporte' %}'">Soporte</button>
            {% endif %}
        </div>
        </div>
    </div>
</header>

<main>
        <!-- Bot√≥n de accesibilidad -->
    <button class="accesibilidad-btn" onclick="toggleAccMenu()" aria-label="Accesibilidad">
        <i class="fas fa-universal-access"></i>
    </button>
    <div id="accesibilidad-menu" style="display:none; position:fixed; top:50%; right:90px; transform:translateY(-50%); background:#fff; color:#013220; border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,0.18); padding:1.2rem 1.5rem; z-index:2100; min-width:180px;">
        <strong style="font-size:1.1rem;">Accesibilidad</strong>
        <hr style="margin:0.5em 0 1em 0;">
        <button onclick="cambiarFuente(1)" style="width:100%;margin-bottom:0.5em;">Aumentar texto</button>
        <button onclick="cambiarFuente(-1)" style="width:100%;margin-bottom:0.5em;">Reducir texto</button>
        <button onclick="toggleContraste()" style="width:100%;">Alto contraste</button>
    </div>
    <div style="max-width: 500px; margin: 4rem auto; background: #e6f7f4; padding: 2rem 2.5rem; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); font-family: 'Segoe UI', sans-serif;">
    <h2 style="text-align: center; color: #014231; margin-bottom: 1.5rem;">Registro de Usuario</h2>
    <form method="post"> {% csrf_token %}
        {{ form.as_table }}
        <button type="submit" class="btn" style="display: block; width: 100%; background-color: #014231; color: #fff; border: none; padding: 0.7rem; border-radius: 8px; margin-top: 1.5rem; font-size: 1rem; cursor: pointer; transition: background 0.3s;">Registrarse</button>
    </form>
    <div style="text-align: center; margin-top: 2rem;">
        <p style="margin-bottom: 0.5rem; color: #14544a;">¬øYa ten√©s cuenta? <a href="{% url 'login' %}" style="color: #17806d; text-decoration: underline;">Ingres√° ac√°</a></p>
    </div>
    </div>
</main>

<script>

document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('menuToggle');
    const dropdownMenu = document.getElementById('dropdownMenu');

    function toggleMenu(e) {
    e.stopPropagation();
    dropdownMenu.classList.toggle('active');
    }

    function closeMenu(e) {
    if (!dropdownMenu.contains(e.target) && !toggleBtn.contains(e.target)) {
        dropdownMenu.classList.remove('active');
    }
    }

    toggleBtn.addEventListener('click', toggleMenu);
    document.addEventListener('click', closeMenu);
});

function toggleAccMenu() {
    const menu = document.getElementById('accesibilidad-menu');
    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
}

function cambiarFuente(factor) {
    document.body.style.fontSize = (parseFloat(getComputedStyle(document.body).fontSize) + factor) + 'px';
}

function toggleContraste() {
    document.body.classList.toggle('alto-contraste');
}

function toggleSubtitulos() {
    alert('Funci√≥n de subt√≠tulos simulada para usuarios sordos.');
}

let lecturaActiva = false;
let lecturaObj;

function toggleLectura() {
    if (!lecturaActiva) {
        const texto = document.body.innerText;
        lecturaObj = new SpeechSynthesisUtterance(texto);
        window.speechSynthesis.speak(lecturaObj);
        lecturaActiva = true;
    }
}

function detenerLectura() {
    if (lecturaActiva) {
        window.speechSynthesis.cancel();
        lecturaActiva = false;
    }
}

function toggleCursorGrande() {
    document.body.classList.toggle('cursor-grande');
}

function toggleDislexia() {
    document.body.classList.toggle('fuente-dislexia');
}
</script>

<!-- FOOTER -->
<footer>
    <div class="footer-contenedor">
        <!-- Columna 1 -->
        <div class="footer-columna">
        <h4>Redes Sociales</h4>
        <a href="https://www.facebook.com" target="_blank">
            <span class="footer-icono">üìò</span> Facebook
        </a>
        <a href="https://www.youtube.com" target="_blank">
            <span class="footer-icono">‚ñ∂Ô∏è</span> YouTube
        </a>
        <a href="https://www.instagram.com" target="_blank">
            <span class="footer-icono">üì∏</span> Instagram
        </a>
        </div>

        <!-- Columna 2 -->
        <div class="footer-columna">
        <h4>Enlaces</h4>
        <a href="/">Inicio</a>
        <a href="/productos">Productos</a>
        <a href="/contacto">Contacto</a>
        <a href="/guia">Gu√≠a</a>
        <a href="/faq">FAQ</a>
        </div>

        <!-- Columna 3 -->
        <div class="footer-columna">
        <h4>Informaci√≥n</h4>
        <a href="/politica_privacidad">Pol√≠tica y privacidad</a>
        <a href="/terminosYCondiciones">Terminos y condiciones</a>
        <a href="/productos">D√≥nde comprar</a>
        </div>
    </div>

    <div class="footer-derechos">
        ¬© {{ now.year }} Alarmas PFB. Todos los derechos reservados.
    </div>
</footer>

{% endblock %}